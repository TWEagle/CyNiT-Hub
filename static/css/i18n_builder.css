
/* ---------------------------------------------------------
   i18n Builder - UI Stylesheet
   Works with i18n_builder.js
   Dark-mode default, light-mode fallback
----------------------------------------------------------*/

:root {
    --i18n-bg: #ffffff;
    --i18n-bg-dark: #1e1e1e;

    --i18n-border: #d0d0d0;
    --i18n-border-dark: #444;

    --i18n-primary: #4285f4;
    --i18n-primary-dark: #82b1ff;

    --i18n-tab-bg: #f5f5f5;
    --i18n-tab-bg-dark: #2c2c2c;

    --i18n-tab-active: #ffffff;
    --i18n-tab-active-dark: #3a3a3a;

    --i18n-text: #222;
    --i18n-text-dark: #ddd;

    --i18n-status-info: #8ab4f8;
    --i18n-status-ok: #57d38c;
    --i18n-status-warn: #ffb05e;
    --i18n-status-typing: #f5c36b;
}

/* ---------------------------------------------------------
   Main container
----------------------------------------------------------*/
.i18n-builder-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    padding: 15px;
    background: var(--i18n-bg);
    color: var(--i18n-text);
}

.dark .i18n-builder-container {
    background: var(--i18n-bg-dark);
    color: var(--i18n-text-dark);
}

/* ---------------------------------------------------------
   STATUS INDICATOR + SPINNER
----------------------------------------------------------*/
.i18n-status {
    font-size: 12px;
    opacity: 0.75;
    transition: opacity 0.25s ease;
}

.i18n-status[data-kind="info"] {
    color: var(--i18n-status-info);
}

.i18n-status[data-kind="ok"] {
    color: var(--i18n-status-ok);
}

.i18n-status[data-kind="warn"] {
    color: var(--i18n-status-warn);
}

.i18n-status[data-kind="typing"] {
    color: var(--i18n-status-typing);
}

/* Spinner is injected inline via JS; no extra CSS needed here */

/* ---------------------------------------------------------
   Mode switcher
----------------------------------------------------------*/
.i18n-mode-switcher {
    display: flex;
    gap: 8px;
    margin-left: auto;
}

.i18n-mode-tab {
    padding: 8px 14px;
    border-radius: 6px;
    background: var(--i18n-tab-bg);
    border: 1px solid var(--i18n-border);
    cursor: pointer;
    user-select: none;
    font-weight: 500;
    transition: 0.2s;
    font-size: 13px;
}

.dark .i18n-mode-tab {
    background: var(--i18n-tab-bg-dark);
    border-color: var(--i18n-border-dark);
}

.i18n-mode-tab:hover {
    background: var(--i18n-primary);
    color: #fff;
}

.i18n-mode-tab.active {
    background: var(--i18n-tab-active);
    border-color: var(--i18n-primary);
    color: var(--i18n-text);
}

.dark .i18n-mode-tab.active {
    background: var(--i18n-tab-active-dark);
    border-color: var(--i18n-primary-dark);
    color: var(--i18n-text-dark);
}

/* ---------------------------------------------------------
   EDITOR WRAPPER
----------------------------------------------------------*/
.editor-wrapper {
    border: 1px solid var(--i18n-border);
    border-radius: 8px;
    padding: 0;
    background: #fff;
    min-height: 600px;
    overflow: hidden;
}

.dark .editor-wrapper {
    background: #222;
    border-color: var(--i18n-border-dark);
}

/* ---------------------------------------------------------
   TIPTAP (Markdown WYSIWYG)
----------------------------------------------------------*/
.tiptap-editor {
    padding: 15px;
    min-height: 600px;
    outline: none;
    color: var(--i18n-text);
}

.dark .tiptap-editor {
    color: var(--i18n-text-dark);
}

.tiptap-editor h1,
.tiptap-editor h2,
.tiptap-editor h3 {
    margin: 12px 0;
    font-weight: 600;
}

/* ---------------------------------------------------------
   TinyMCE overrides
----------------------------------------------------------*/
.tox {
    border-radius: 8px !important;
    overflow: hidden !important;
}

.tox-editor-container,
.tox-tinymce {
    min-height: 600px !important;
}

/* ---------------------------------------------------------
   CodeMirror (CSS/JSON/XML/RAW)
----------------------------------------------------------*/
.codemirror-host .cm-editor {
    height: 650px !important;
    font-size: 15px;
}

.codemirror-host .cm-theme {
    background: #1e1e1e !important;
}

.codemirror-host .cm-editor .cm-content {
    padding: 12px !important;
}

/* Light mode override */
:not(.dark) .codemirror-host .cm-theme {
    background: #fafafa !important;
    color: #222 !important;
}

/* ---------------------------------------------------------
   LIVE PREVIEW (HTML/CSS)
----------------------------------------------------------*/
#i18n-live-preview {
    border: 1px solid var(--i18n-border);
    border-radius: 8px;
    min-height: 300px;
    background: #fff;
    padding: 0;
}

.dark #i18n-live-preview {
    background: #2a2a2a;
    border-color: var(--i18n-border-dark);
}

/* ---------------------------------------------------------
   DRAG & DROP UPLOAD ZONE
----------------------------------------------------------*/
.i18n-dropzone {
    border: 2px dashed var(--i18n-border);
    padding: 20px;
    text-align: center;
    border-radius: 8px;
    color: #666;
    cursor: pointer;
    transition: 0.2s;
    margin-top: 6px;
}

.i18n-dropzone:hover {
    border-color: var(--i18n-primary);
    color: var(--i18n-primary);
}

.dark .i18n-dropzone {
    border-color: var(--i18n-border-dark);
    color: #aaa;
}

.dark .i18n-dropzone:hover {
    border-color: var(--i18n-primary-dark);
    color: var(--i18n-primary-dark);
}

/* ---------------------------------------------------------
   Buttons
----------------------------------------------------------*/
.i18n-btn {
    padding: 8px 16px;
    background: var(--i18n-primary);
    border-radius: 6px;
    color: #fff;
    border: none;
    cursor: pointer;
    font-size: 13px;
    transition: 0.2s;
}

.i18n-btn:hover {
    opacity: 0.9;
}

/* ---------------------------------------------------------
   Export panel
----------------------------------------------------------*/
.i18n-export-panel {
    display: flex;
    justify-content: flex-start;
    margin-top: 12px;
    gap: 10px;
}


/* Dark mode overrides for Tiptap */
body.dark .tiptap-editor {
    background: #1e1e1e;
    color: #e6e6e6;
    border: 1px solid #444;
}

body.dark .tiptap-editor p,
body.dark .tiptap-editor h1,
body.dark .tiptap-editor h2,
body.dark .tiptap-editor h3 {
    color: #e6e6e6;
}

body.dark .tiptap-editor .ProseMirror-selectednode {
    outline: 2px solid #4285f4;
}


/* CodeMirror dark */
body.dark .cm-editor,
body.dark .CodeMirror {
    background: #1e1e1e !important;
    color: #e6e6e6 !important;
}

body.dark .cm-content,
body.dark .CodeMirror-lines {
    color: #e6e6e6 !important;
}
